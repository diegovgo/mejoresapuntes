<html>
<head>
<script>
const amne = [
  {
    type: "field",
    name: "Directa (SI/NO)",
    slug: "directa",
    value: ""
  },
  {
    type: "field",
    name: "Indirecta (SI/NO) ",
    slug: "indirecta",
    value: ""
  },
  {
    type: "field",
    name: "Confiabilidad",
    slug: "confiabilidad",
    value: ""
  }
];
const gdat = [
  {
    type: "field",
    name: "Número de Historia",
    slug: "historyId",
    value: ""
  },
  {
    type: "field",
    name: "Fecha y Hora de Cita",
    slug: "dateAndTimeOfCita",
    value: ""
  },
  {
    type: "field",
    name: "Nombres",
    slug: "firstNames",
    value: ""
  },
  {
    type: "field",
    name: "Apellidos",
    slug: "lastNames",
    value: ""
  },
  {
    type: "field",
    name: "Edad",
    slug: "age",
    value: ""
  },
  {
    type: "field",
    name: "Etnia",
    slug: "etnia",
    value: ""
  },
  {
    type: "field",
    name: "Lugar de Nacimiento",
    slug: "placeOfBirth",
    value: ""
  },
  {
    type: "field",
    name: "Grado de Instrucción",
    slug: "instructionGrade",
    value: ""
  },
  {
    type: "field",
    name: "Grupo Sanguíneo",
    slug: "bloodType",
    value: ""
  },
  {
    type: "field",
    name: "Rh Factor",
    slug: "rhFactor",
    value: ""
  }
];
const ante = [
  {
    type: "field",
    name: "Antecedentes Personales",
    slug: "personalsAntecedentes",
    value: ""
  },
  {
    type: "field",
    name: "Antecedentes Patológicos",
    slug: "pathologicAntecedentes",
    value: ""
  },
  {
    type: "field",
    name: "Antecedentes Quirúrgicos",
    slug: "surgicalAntecedentes",
    value: ""
  },
  {
    type: "field",
    name: "Antecendentes Familiares",
    slug: "familiarAntecedentes",
    value: ""
  },
  {
    type: "field",
    name: "Estilo de Vida",
    slug: "lifeStyle",
    value: ""
  },
  {
    type: "field",
    name: "Alergias",
    slug: "alergies",
    value: ""
  }
];
const apt = [
  {
    type: "field",
    name: "Triage",
    slug: "triage",
    value: ""
  },
  {
    type: "field",
    name: "Síntomas principales",
    slug: "mainSymtonps",
    value: ""
  },
  {
    type: "field",
    name: "Tiempo de Enfermedad",
    slug: "sickTime",
    value: ""
  },
  {
    type: "field",
    name: "Reporte de Enfermedad",
    slug: "diseaseReport",
    value: ""
  },
  {
    type: "field",
    name: "Evaluación Actual",
    slug: "currentFeedEvaluation",
    value: ""
  },
  {
    type: "group",
    name: "Evaluación Física",
    slug: "physicEvaluation",
    content: [
      {
        type: "field",
        name: "Peso",
        slug: "weight",
        value: ""
      },
      {
        type: "field",
        name: "Altura",
        slug: "height",
        value: ""
      },
      {
        type: "field",
        name: "IMC",
        slug: "imc",
        value: ""
      },
      {
        type: "field",
        name: "Temperatura",
        slug: "temperature",
        value: ""
      },
      {
        type: "field",
        name: "Presión Arterial",
        slug: "presionArterial",
        value: ""
      },
      {
        type: "field",
        name: "Frecuencia Cardiaca",
        slug: "frecuenciaCardiaca",
        value: ""
      },
      {
        type: "field",
        name: "Frecuencia Respiratoria",
        slug: "frecuenciaRespiratoria",
        value: ""
      },
      {
        type: "field",
        name: "SO2",
        slug: "soDos",
        value: ""
      }
    ]
  }
];
const trea = [
  {
    type: "field",
    name: "Diagnóstico",
    slug: "diagnose",
    value: ""
  },
  {
    type: "field",
    subType: "CIE10",
    name: "CIE10 nomenclatura",
    slug: "cie10Nomencalture",
    value: ""
  },
  {
    type: "field",
    name: "Diagnóstico Nutricional",
    slug: "nutritionalDiagnose",
    value: ""
  },
  {
    type: "field",
    name: "Exámentes Auxiliares",
    slug: "auxiliaryExams",
    value: ""
  },
  {
    type: "field",
    name: "Tratamiento",
    slug: "treatment",
    value: ""
  },
  {
    type: "field",
    name: "Fecha de Próxima Cita",
    slug: "nextCitaDate",
    value: ""
  }
];
const structureV1 = {
  type: "category",
  name: "Consulta Externa",
  slug: "externalCita",
  open: true,
  content: [
        {
          type: "category",
          name: "Primera Visita",
          slug: "firstVisit",
          content: [
            {
              type: "group",
              name: "Anamnesis",
              slug: "anamnesis",
              content: amne
            },
            {
              type: "group",
              name: "Información General",
              slug: "generalData",
              content: [
                ...gdat,
                {
                  type: "field",
                  name: "Nombres del Titular",
                  slug: "titularFisrtName",
                  value: ""
                },
                {
                  type: "field",
                  name: "Apellidos del Titular",
                  slug: "titularLastName",
                  value: ""
                },
                {
                  type: "field",
                  name: "Edad del Titular",
                  slug: "titularAge",
                  value: ""
                },
                {
                  type: "field",
                  name: "Titular DNI",
                  slug: "titularDni",
                  value: ""
                }
              ]
            },

            {
              type: "group",
              name: "Antecedentes",
              slug: "antecendents",
              content: ante
            },
            {
              type: "group",
              name: "Cita",
              slug: "appointment",
              content: apt
            },
            {
              type: "group",
              name: "Tratamiento",
              slug: "treatment",
              content: trea
            }
          ]
        },
        {
          type: "category",
          name: "Continuación",
          slug: "revisit",
          content: [
            {
              type: "group",
              name: "Cita",
              slug: "appointment",
              content: apt
            },
            {
              type: "group",
              name: "Tratamiento",
              slug: "treatment",
              content: trea
            },
          ],
        },
      ],
    };

// Add full paths to each node
const addPath = (node, slug) => {
  const path = `${slug ? slug + "." : ""}${node.slug}`;
  const content = (node.content || []).map(e => addPath(e, path));

  return {
    ...node,
    path,
    content
  };
};
return {
  name: "Historia clínica adaptada",
  structure: [addPath(structureV1)]
}

const ss = addPath(structureV1);

console.log(ss);
</script>
</head>
<body>
  Test
</body>

<html>